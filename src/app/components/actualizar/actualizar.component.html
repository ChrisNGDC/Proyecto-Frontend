<div class="container">
    <h2>Actualizar producto</h2>

    <form [formGroup]="miFormulario" (ngSubmit)="actualizar()">
        <div class="form-grid">
            <div class="form-group">
                <label for="id" class="form-label">ID</label>
                <input type="number" class="form-control" id="id" formControlName="id" (blur)="cargarProducto(miFormulario.get('id')?.value)">
            </div>
            <div class="form-group">
                <label for="nombre" class="form-label">Nombre</label>
                <input type="text" class="form-control" id="nombre" formControlName="Nombre">
            </div>
            <div class="form-group">
                <label for="marca" class="form-label">Marca</label>
                <input type="text" class="form-control" id="marca" formControlName="Marca">
            </div>
            <div class="form-group">
                <label for="stock" class="form-label">Stock</label>
                <input type="number" class="form-control" id="stock" formControlName="Stock">
            </div>       
            <div>
                <label for="proveedor">Proveedor</label>
                <select id="proveedor" formControlName="ProveedorID" class="form-select">
                    <option value="" disabled selected>Seleccione un proveedor</option>
                    <option *ngFor="let proveedor of proveedores" [value]="proveedor.ProveedorID">
                        {{ proveedor.Nombre }}
                    </option>
                </select>
            </div>            
            
            <div class="form-group">
                <label for="perece" class="form-check-label">Â¿Perece?</label>
                <div class="form-check">
                    <input 
                        type="checkbox" 
                        class="form-check-input" 
                        id="perece" 
                        formControlName="Perece"
                        [checked]="miFormulario.get('Perece')?.value == 1"
                    />
                </div>
            </div>
            <div class="form-group" *ngIf="miFormulario.get('Perece')?.value == 1">
                <label for="fecha_Vencimiento" class="form-label">Fecha de Vencimiento</label>
                <input 
                    type="date" 
                    class="form-control" 
                    id="fecha_Vencimiento" 
                    formControlName="Fecha_Vencimiento">
            </div>
        </div>
        <div class="button-container">
            <button type="submit" class="btn btn-secondary">Actualizar</button>
            <button type="button" class="btn btn-danger" (click)="cancelar()">Cancelar</button>
        </div>
    </form>
    <div *ngIf="mensajeExito" class="alert alert-success" role="alert">
        {{ mensajeExito }}
    </div>
</div>